meta {
  name: signup
  type: http
  seq: 2
}

post {
  url: http://localhost:3001/api/auth/signup
  body: json
  auth: inherit
}

body:json {
  {
    "username": "testuser2",
    "email": "test2@example.com",
    "password": "Test123!@#"
  }
}

tests {
    test("Status code is 201", () => {
        expect(res.status).toBe(201)
    })

    test("Response has success status", () => {
        expect(res.body.status).toBe("success")
    })

    test("Response has user data", () => {
        expect(res.body.data.user).toBeDefined()
        expect(res.body.data.user.username).toBe("testuser2")
        expect(res.body.data.user.email).toBe("test2@example.com")
        expect(res.body.data.user._id).toBeDefined()
        expect(res.body.data.user.createdAt).toBeDefined()
        expect(res.body.data.user.updatedAt).toBeDefined()
    })

    test("Response has token", () => {
        expect(res.body.data.token).toBeDefined()
        expect(res.body.data.token).toBeString()
    })
}
